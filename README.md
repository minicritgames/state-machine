https://www.minicrit.games/minikit/state-machine/